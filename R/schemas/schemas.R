library(arrow, warn.conflicts = FALSE)

schema.person <- schema(
  field("run", uint16(), nullable = FALSE),
  field("time", float32(), nullable = FALSE),
  field("id_Person", uint64(), nullable = FALSE),
  field("L1_potentialHourlyEarnings", float32(), nullable = FALSE),
  field("adultchildflag", bool(), nullable = TRUE),
  field("countFemale", float32(), nullable = FALSE),
  field("countMale", float32(), nullable = FALSE),
  field("countNaN", uint8(), nullable = FALSE),
  field("countOK", uint8(), nullable = FALSE),
  field("countOKover32", uint8(), nullable = FALSE),
  field("covidModuleGrossLabourIncomeBaseline_Xt5", utf8(), nullable = FALSE),
  field("dag", uint8(), nullable = FALSE),
  field("dcpagdf", int8(), nullable = TRUE),
  field("dcpen", bool(), nullable = TRUE),
  field("dcpex", bool(), nullable = TRUE),
  field("dcpst", utf8(), nullable = FALSE),
  field("dcpyy", uint8(), nullable = TRUE),
  field("ded", bool(), nullable = FALSE),
  field("deh_c3", utf8(), nullable = FALSE),
  field("dehf_c3", utf8(), nullable = FALSE),
  field("dehm_c3", utf8(), nullable = FALSE),
  field("dehsp_c3", utf8(), nullable = TRUE),
  field("der", bool(), nullable = FALSE),
  field("dgn", bool(), nullable = FALSE),
  field("dhe", float32(), nullable = FALSE),
  field("dhesp", float32(), nullable = TRUE),
  field("dhh_owned", bool(), nullable = FALSE),
  field("dhm", float32(), nullable = FALSE),
  field("dhm_ghq", bool(), nullable = FALSE),
  field("dlltsd", bool(), nullable = FALSE),
  field("education_inrange", bool(), nullable = TRUE),
  field("flagAlignEntry", bool(), nullable = TRUE),
  field("flagAlignExit", bool(), nullable = TRUE),
  field("flagDies", bool(), nullable = TRUE),
  field("flagEmigrate", bool(), nullable = TRUE),
  field("flagImmigrate", bool(), nullable = TRUE),
  field("hoursWorkedWeekly", float32(), nullable = TRUE),
  field("household_status", utf8(), nullable = FALSE),
  field("idBenefitUnit", uint64(), nullable = FALSE),
  field("idFather", uint64(), nullable = TRUE),
  field("idMother", uint64(), nullable = TRUE),
  field("idPartner", uint64(), nullable = TRUE),
  field("id_original", uint64(), nullable = FALSE),
  field("inverseMillsRatioMaxFemale", float32(), nullable = FALSE),
  field("inverseMillsRatioMaxMale", float32(), nullable = FALSE),
  field("inverseMillsRatioMinFemale", float32(), nullable = FALSE),
  field("inverseMillsRatioMinMale", float32(), nullable = FALSE),
  field("labourSupplyWeekly", utf8(), nullable = FALSE),
  field("les_c4", utf8(), nullable = FALSE),
  field("les_c7_covid", utf8(), nullable = TRUE),
  field("lesdf_c4", utf8(), nullable = TRUE),
  field("lessp_c4", utf8(), nullable = TRUE),
  field("partnership_samesex", bool(), nullable = TRUE),
  field("potentialHourlyEarnings", float32(), nullable = FALSE),
  field("sIndex", float32(), nullable = TRUE),
  field("sIndexNormalised", float32(), nullable = TRUE),
  field("scoreFemale", float32(), nullable = FALSE),
  field("scoreMale", float32(), nullable = FALSE),
  field("sedex", bool(), nullable = FALSE),
  field("weight", float32(), nullable = FALSE),
  field("women_fertility", bool(), nullable = TRUE),
  field("yearlyEquivalisedConsumption", float32(), nullable = FALSE),
  field("ynbcpdf_dv", float32(), nullable = TRUE),
  field("yplgrs_dv", float32(), nullable = FALSE),
  field("ypnbihs_dv", float32(), nullable = TRUE),
  field("ypncp", float32(), nullable = FALSE),
  field("ypnoab", float32(), nullable = FALSE),
  field("yptciihs_dv", float32(), nullable = FALSE),
)

schema.person.save <- schema.person
schema.person.save[[match("countFemale", names(schema.person))]] <- Field$create("countFemale", uint8())
schema.person.save[[match("countMale", names(schema.person))]] <- Field$create("countMale", uint8())
schema.person.save[[match("countNaN", names(schema.person))]] <- Field$create("countNaN", uint8())
schema.person.save[[match("countOK", names(schema.person))]] <- Field$create("countOK", uint8())
schema.person.save[[match("countOKover32", names(schema.person))]] <- Field$create("countOKover32", uint8())
schema.person.save[[match("labourSupplyWeekly", names(schema.person))]] <- Field$create("labourSupplyWeekly", uint8())
schema.person.save[[match("time", names(schema.person))]] <- Field$create("time", uint16())
schema.person.save[[match("idBenefitUnit", names(schema.person))]] <- Field$create("id_BenefitUnit", uint64())

schema.benefit_unit <- schema(
  field("run", uint16(), nullable = FALSE),
  field("time", float32(), nullable = FALSE),
  field("id_BenefitUnit", uint64(), nullable = FALSE),
  field("atRiskOfPoverty", uint8(), nullable = FALSE),
  field("consumptionAnnual", float32(), nullable = TRUE),
  field("createdByConstructor", utf8(), nullable = FALSE),
  field("dhh_owned", bool(), nullable = FALSE),
  field("dhhtp_c4", utf8(), nullable = FALSE),
  field("disposableIncomeMonthly", float32(), nullable = FALSE),
  field("equivalisedDisposableIncomeYearly", float32(), nullable = FALSE),
  field("idFemale", uint64(), nullable = TRUE),
  field("idHousehold", uint64(), nullable = FALSE),
  field("idMale", uint64(), nullable = TRUE),
  field("liquidWealth", float32(), nullable = TRUE),
  field("n_children_0", uint8(), nullable = FALSE),
  field("n_children_1", uint8(), nullable = FALSE),
  field("n_children_2", uint8(), nullable = FALSE),
  field("n_children_3", uint8(), nullable = FALSE),
  field("n_children_4", uint8(), nullable = FALSE),
  field("n_children_5", uint8(), nullable = FALSE),
  field("n_children_6", uint8(), nullable = FALSE),
  field("n_children_7", uint8(), nullable = FALSE),
  field("n_children_8", uint8(), nullable = FALSE),
  field("n_children_9", uint8(), nullable = FALSE),
  field("n_children_10", uint8(), nullable = FALSE),
  field("n_children_11", uint8(), nullable = FALSE),
  field("n_children_12", uint8(), nullable = FALSE),
  field("n_children_13", uint8(), nullable = FALSE),
  field("n_children_14", uint8(), nullable = FALSE),
  field("n_children_15", uint8(), nullable = FALSE),
  field("n_children_16", uint8(), nullable = FALSE),
  field("n_children_17", uint8(), nullable = FALSE),
  field("occupancy", utf8(), nullable = FALSE),
  field("region", utf8(), nullable = FALSE),
  field("size", uint8(), nullable = FALSE),
  field("weight", float32(), nullable = FALSE),
  field("ydses_c5", utf8(), nullable = FALSE)
)

schema.household <- schema(
  field("run", uint16(), nullable = FALSE),
  field("time", float32(), nullable = FALSE),
  field("id_Household", uint64(), nullable = FALSE),
  field("size", uint8(), nullable = FALSE),
  field("weight", float32(), nullable = FALSE)
)
